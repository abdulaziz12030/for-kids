<!doctype html><html lang="ar" dir="rtl"><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ุงุฎุชูุงุฑ ุงูุจููุณ | ูุงุนู ููุฏุฒ</title>
<link rel="stylesheet" href="css.css">
</head><body>
<header>
  <div class="container nav">
    <div class="brand"><img class="logo" src="images/logo.png" alt="ูุงุนู ููุฏุฒ"><strong>waai-kids.sa</strong></div>
    <a class="cart-link" href="checkout.html" aria-label="ุงูุณูุฉ">๐๏ธ <span class="bubble" data-cart-count>0</span></a>
  </div>
</header>

<main class="container" style="padding:18px 0">
  <div class="card" data-reveal><div class="body" style="display:grid;gap:12px">
    <h1 id="p-name" class="fade-up">โ</h1>
    <img id="p-img" alt="" style="border-radius:12px" data-anim="float">
    <p style="color:var(--muted)">ุจููุณ ุฃููู ุจูุงูู ูุญุชููุงุชูุ ุจุทุงูุฉ ุฅูุฏุงุก ุงุฎุชูุงุฑูุฉุ ูุงูุณุนุฑ ุดุงูู ุงูุชูุตูู.</p>

    <label>ููุน ุงูุจููุณ</label>
    <select id="p-type" class="ghost">
      <option value="baby-girl">ููุงููุฏ โ ุจูุงุช</option>
      <option value="baby-boy">ููุงููุฏ โ ุฃููุงุฏ</option>
    </select>

    <label>ุงููููุฉ</label>
    <div><input id="qty" type="number" min="1" value="1" class="ghost" style="width:110px"></div>

    <div class="pill">ุจุทุงูุฉ ุงูุฅูุฏุงุก (ุงุฎุชูุงุฑู)</div>
    <div style="display:grid;gap:8px">
      <select id="g-theme" class="ghost" title="ุซูู ุงูุจุทุงูุฉ">
        <option value="girl">ุซูู ููููุฏุฉ (ูุงุฏุฆ/ูุฑุฏู)</option>
        <option value="boy">ุซูู ููููุฏ (ุณูุงูู)</option>
      </select>
      <input id="g-name" class="ghost" placeholder="ุงูุงุณู ุนูู ุงูุจุทุงูุฉ (ูุซุงู: ููููููุฏุฉ ุดูุฏ)">
      <textarea id="g-msg" class="ghost" rows="3" placeholder="ุฑุณุงูุฉ ูุตูุฑุฉ (ูุซุงู: ูููุฑุชู ุงูุฏููุง ูุง ุฃุฌูู ุงูุนุทุงูุง)"></textarea>
      <input id="g-from" class="ghost" placeholder="ูู (ูุซุงู: ูู ุฎุงูุชูู ูุฏู)">
    </div>

    <div class="actions">
      <a class="btn" id="add-cart">ุฅุถุงูุฉ ููุณูุฉ ูุงููุชุงุจุนุฉ</a>
      <a class="ghost" href="index.html">ุฑุฌูุน</a>
    </div>
  </div></div>
</main>

<footer>
  <div class="container"><div>ยฉ <span id="y"></span> ูุงุนู ููุฏุฒ</div></div>
</footer>

<script type="module">
  import { Cart, initReveal } from './js/cart.js';
  initReveal();
  document.getElementById('y').textContent = new Date().getFullYear();

  const PRODUCTS = {
    'baby-girl': { name:'ุจููุณ ููุงููุฏ โ ุจูุงุช', price:149, img:'images/girl.png' },
    'baby-boy' : { name:'ุจููุณ ููุงููุฏ โ ุฃููุงุฏ', price:149, img:'images/boy1.png' }
  };

  let sku = new URLSearchParams(location.search).get('sku') || 'baby-girl';
  const img = document.getElementById('p-img');
  const nameEl = document.getElementById('p-name');

  function render(){
    const p = PRODUCTS[sku];
    img.src = p.img; nameEl.textContent = p.name;
  }
  render();

  document.getElementById('p-type').onchange = (e)=>{ sku=e.target.value; render(); };

  document.getElementById('add-cart').onclick = () => {
    const qty = Math.max(1, parseInt(document.getElementById('qty').value||'1', 10));
    const p = PRODUCTS[sku];
    const gift = {
      theme: document.getElementById('g-theme').value,
      name:  document.getElementById('g-name').value.trim(),
      msg:   document.getElementById('g-msg').value.trim(),
      from:  document.getElementById('g-from').value.trim()
    };
    const enabled = gift.name || gift.msg || gift.from;
    Cart.upsert({ sku, name:p.name, price:p.price, qty, gift: enabled? gift : null });
    location.href = 'checkout.html';
  };
</script>
</body></html>
