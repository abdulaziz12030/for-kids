<!doctype html><html lang="ar" dir="rtl"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>ูุงุนู ููุฏุฒ | ุงูููุชุฌ</title>
<link rel="stylesheet" href="css.css">
</head><body>
<header>
  <div class="container nav">
    <div class="brand">
      <img class="logo" src="images/logo.png" alt="ุดุนุงุฑ ูุงุนู ููุฏุฒ">
      <span style="font-weight:900">ูุงุนู ููุฏุฒ</span>
    </div>
    <a href="checkout.html" class="ghost" style="gap:6px">๐๏ธ <span data-cart-count>0</span></a>
  </div>
</header>

<main class="container" style="padding:18px 0">
  <div class="card" data-reveal>
    <div class="grid" style="grid-template-columns:1.1fr .9fr">
      <div><img id="p-img" alt="" style="border-radius:12px"></div>
      <div class="body">
        <h1 id="p-name" style="margin:.2rem 0">โ</h1>
        <div class="price">ุณุนุฑ: <strong id="p-price">149</strong> ุฑ.ุณ</div>
        <label>ููุน ุงูุจููุณ</label>
        <select id="p-type" class="ghost" style="min-height:44px">
          <option value="baby-girl">ุจูุงุช</option>
          <option value="baby-boy">ุฃููุงุฏ</option>
        </select>
        <label style="margin-top:8px">ุงููููุฉ</label>
        <div style="display:flex;gap:6px;align-items:center">
          <button class="ghost" id="minus">โ</button>
          <input id="qty" type="number" value="1" min="1" style="width:90px;padding:.6rem;border:1px solid #dfeaf0;border-radius:10px">
          <button class="ghost" id="plus">+</button>
        </div>
        <div class="actions" style="margin-top:12px">
          <a class="btn" id="to-gift">ุงูุชุงูู: ุจุทุงูุฉ ุงูุฅูุฏุงุก</a>
          <a class="ghost" href="index.html">ุฑุฌูุน</a>
        </div>
      </div>
    </div>
  </div>
</main>

<script type="module">
import { Cart, initReveal } from './js/cart.js';
const PRODUCTS = {
  'baby-girl': { name:'ุจููุณ ุงูููุงููุฏ โ ุจูุงุช', price:149, img:'images/girl.png' },
  'baby-boy' : { name:'ุจููุณ ุงูููุงููุฏ โ ุฃููุงุฏ', price:149, img:'images/boy.png'  },
};
const q = new URLSearchParams(location.search);
let sku = q.get('sku') || 'baby-girl';
const pimg = document.getElementById('p-img');
const pname= document.getElementById('p-name');
const pprice= document.getElementById('p-price');
const ptype= document.getElementById('p-type');
function render(){
  const p = PRODUCTS[sku];
  pimg.src = p.img; pname.textContent = p.name; pprice.textContent = p.price; ptype.value = sku;
}
render();
ptype.addEventListener('change', ()=>{ sku = ptype.value; render(); });
document.getElementById('minus').onclick = ()=> { const q = document.getElementById('qty'); q.value = Math.max(1, (+q.value||1)-1); };
document.getElementById('plus').onclick  = ()=> { const q = document.getElementById('qty'); q.value = (+q.value||1)+1; };
document.getElementById('to-gift').addEventListener('click', ()=>{
  const qty = Math.max(1, parseInt(document.getElementById('qty').value||'1',10));
  const p = PRODUCTS[sku];
  Cart.upsert({ sku, name:p.name, price:p.price, qty });
  location.href = `gift.html?sku=${encodeURIComponent(sku)}`;
});
initReveal();
</script>
</body></html>
