export const CART_KEY='waai_kids_cart_v1';export const WA_NUM='966552794082';export const Cart={get(){try{return JSON.parse(localStorage.getItem(CART_KEY))||[]}catch(_){return[]}},set(it){localStorage.setItem(CART_KEY,JSON.stringify(it));this.renderBadge()},upsert(i){const a=this.get();const x=a.findIndex(s=>s.sku===i.sku);if(x>-1)a[x]={...a[x],...i};else a.push(i);this.set(a)},getLast(){const a=this.get();return a[a.length-1]},count(){return this.get().length},total(){return this.get().reduce((s,x)=>s+x.price*x.qty,0)},renderBadge(){const el=document.querySelector('[data-cart-count]');if(el)el.textContent=this.count()}};export function initReveal(){const f=()=>document.querySelectorAll('[data-reveal]').forEach(e=>{const r=e.getBoundingClientRect();if(r.top<innerHeight-80)e.classList.add('visible')});addEventListener('scroll',f);addEventListener('load',f);f()} ;document.addEventListener('DOMContentLoaded',()=>Cart.renderBadge());